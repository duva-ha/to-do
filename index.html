<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline Notes - Google Photos Style</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { background-color: #f8f9fa; }
        .sticky-header { position: sticky; top: 0; z-index: 10; background: rgba(248, 249, 250, 0.9); backdrop-filter: blur(5px); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function TimelineApp() {
            // Khởi tạo dữ liệu mẫu
            const [notes, setNotes] = useState([
                { id: 1, content: "Bắt đầu xây dựng ứng dụng lưu trữ văn bản theo dòng thời gian.", date: "2026-01-10", time: "08:00" },
                { id: 2, content: "Google Photos có giao diện rất thông minh, mình sẽ học tập cách họ nhóm ảnh theo ngày.", date: "2026-01-10", time: "09:30" },
                { id: 3, content: "Hôm qua mình đã hoàn thành xong phần ý tưởng.", date: "2026-01-09", time: "21:15" },
                { id: 4, content: "Mua một cuốn sổ tay mới để ghi chép.", date: "2025-12-25", time: "14:00" }
            ]);

            const [inputValue, setInputValue] = useState("");

            // Hàm thêm ghi chú mới
            const addNote = () => {
                if (!inputValue.trim()) return;
                const now = new Date();
                const newNote = {
                    id: Date.now(),
                    content: inputValue,
                    date: now.toISOString().split('T')[0],
                    time: now.getHours() + ":" + now.getMinutes().toString().padStart(2, '0')
                };
                setNotes([newNote, ...notes]);
                setInputValue("");
            };

            // Logic nhóm ghi chú theo ngày (Giống Google Photos)
            const groupedNotes = notes.reduce((groups, note) => {
                const date = note.date;
                if (!groups[date]) groups[date] = [];
                groups[date].push(note);
                return groups;
            }, {});

            return (
                <div className="max-w-2xl mx-auto pb-24">
                    {/* Header */}
                    <header className="p-6 bg-white shadow-sm mb-6 flex justify-between items-center sticky top-0 z-20">
                        <h1 className="text-xl font-bold text-blue-600">Timeline Notes</h1>
                        <span className="text-sm text-gray-500">{notes.length} ghi chú</span>
                    </header>

                    {/* Danh sách dòng thời gian */}
                    <div className="px-4">
                        {Object.keys(groupedNotes).sort().reverse().map(date => (
                            <div key={date} className="mb-8">
                                <h2 className="sticky-header py-2 text-sm font-semibold text-gray-600 uppercase tracking-wider">
                                    {new Date(date).toLocaleDateString('vi-VN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
                                </h2>
                                <div className="grid grid-cols-1 gap-3 mt-2">
                                    {groupedNotes[date].map(note => (
                                        <div key={note.id} className="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
                                            <div className="text-xs text-gray-400 mb-1">{note.time}</div>
                                            <p className="text-gray-800 leading-relaxed">{note.content}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Thanh nhập liệu cố định bên dưới */}
                    <div className="fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200">
                        <div className="max-w-2xl mx-auto flex gap-2">
                            <input 
                                type="text" 
                                value={inputValue}
                                onChange={(e) => setInputValue(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && addNote()}
                                placeholder="Lưu lại điều gì đó..."
                                className="flex-1 p-3 border border-gray-300 rounded-full px-6 focus:outline-none focus:border-blue-500"
                            />
                            <button 
                                onClick={addNote}
                                className="bg-blue-600 text-white p-3 rounded-full w-12 h-12 flex items-center justify-center hover:bg-blue-700 shadow-lg"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={2} stroke="currentColor" className="w-6 h-6">
                                    <path strokeLinecap="round" strokeLinejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TimelineApp />);
    </script>
</body>
</html>
